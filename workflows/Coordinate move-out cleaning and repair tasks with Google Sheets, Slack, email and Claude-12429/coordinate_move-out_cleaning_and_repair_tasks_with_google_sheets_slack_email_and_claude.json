{"id":"27Gv0B6FLCrxZoKh","meta":{"instanceId":"f6e8ad6763839b50a3ab3bea5512dc60976f81a6273178925f946fc7a00549a8"},"name":"Automated Move-Out Cleaning and Repair Task Management","tags":[],"nodes":[{"id":"55093bb3-3120-431b-8250-9728ba73e516","name":"Schedule Trigger","type":"n8n-nodes-base.scheduleTrigger","position":[-672,104],"parameters":{"rule":{"interval":[{"triggerAtHour":9}]}},"typeVersion":1.3},{"id":"96dab6a3-a308-4daf-a119-f3c883ccbe2f","name":"Workflow Configuration","type":"n8n-nodes-base.set","position":[-448,104],"parameters":{"options":{},"assignments":{"assignments":[{"id":"id-1","name":"daysBeforeMoveOut","type":"number","value":"<__PLACEHOLDER_VALUE__Number of days before lease end to trigger workflow__>"},{"id":"id-2","name":"googleSheetId","type":"string","value":"<__PLACEHOLDER_VALUE__Google Sheet ID containing tenant data__>"},{"id":"id-3","name":"vendorEmailAddress","type":"string","value":"<__PLACEHOLDER_VALUE__Vendor email address for cleaning/repair tasks__>"},{"id":"id-4","name":"slackChannel","type":"string","value":"<__PLACEHOLDER_VALUE__Slack channel ID for notifications__>"}]},"includeOtherFields":true},"typeVersion":3.4},{"id":"cc0d116d-b676-4caf-a8b9-ade27b584989","name":"Get Tenant & Property Info","type":"n8n-nodes-base.googleSheets","position":[-224,104],"parameters":{"options":{"dataLocationOnSheet":{"values":{"rangeDefinition":"detectAutomatically"}}},"sheetName":{"__rl":true,"mode":"name","value":"<__PLACEHOLDER_VALUE__Sheet name containing tenant data__>"},"documentId":{"__rl":true,"mode":"id","value":"={{ $('Workflow Configuration').first().json.googleSheetId }}"}},"credentials":{"googleSheetsOAuth2Api":{"id":"5b6oIAuqcO9HRb2A","name":"Google Sheets account 3"}},"typeVersion":4.7},{"id":"325d1ebd-84d8-486e-8f6d-30a617c4a0c6","name":"Generate Move-Out Instructions","type":"@n8n/n8n-nodes-langchain.agent","position":[0,0],"parameters":{"text":"={{ 'Unit: ' + $json.unit + ', Tenant: ' + $json.tenantName + ', Lease End Date: ' + $json.leaseEndDate + ', Move-Out Date: ' + $json.moveOutDate }}","options":{"systemMessage":"You are a property management assistant specializing in move-out procedures.\n\nYour task is to:\n1. Generate personalized move-out instructions for the tenant based on the unit details\n2. Create a comprehensive repair and cleaning checklist for vendors\n3. Include specific tasks for common areas (kitchen, bathroom, floors, walls, appliances)\n4. Prioritize tasks by urgency and estimated completion time\n5. Format the output as clear, actionable instructions\n\nReturn the instructions in a structured format with sections for tenant instructions and vendor checklist."},"promptType":"define"},"typeVersion":3},{"id":"3766c593-bfdf-42ba-89ab-f325873f2af5","name":"Anthropic Chat Model","type":"@n8n/n8n-nodes-langchain.lmChatAnthropic","position":[72,224],"parameters":{"model":{"__rl":true,"mode":"list","value":"claude-sonnet-4-5-20250929","cachedResultName":"Claude Sonnet 4.5"},"options":{}},"typeVersion":1.3},{"id":"7ed0cf14-9861-4a53-bf6a-94cfa083b578","name":"Structure Tasks for Vendors","type":"n8n-nodes-base.set","position":[352,104],"parameters":{"options":{},"assignments":{"assignments":[{"id":"id-1","name":"vendorEmail","type":"string","value":"={{ $('Workflow Configuration').first().json.vendorEmailAddress }}"},{"id":"id-2","name":"emailSubject","type":"string","value":"={{ 'Move-Out Cleaning & Repair Tasks - Unit ' + $('Get Tenant & Property Info').first().json.unit }}"},{"id":"id-3","name":"emailBody","type":"string","value":"={{ $json.output }}"},{"id":"id-4","name":"slackMessage","type":"string","value":"={{ 'Move-out tasks initiated for Unit ' + $('Get Tenant & Property Info').first().json.unit + ' - Lease ends on ' + $('Get Tenant & Property Info').first().json.leaseEndDate }}"}]}},"typeVersion":3.4},{"id":"fac54c6a-06b1-4f52-9096-bb112b1f6688","name":"Send Email to Vendors","type":"n8n-nodes-base.gmail","position":[576,8],"webhookId":"9f2ff238-9f2e-4407-b06d-0a769152c249","parameters":{"sendTo":"={{ $json.vendorEmail }}","message":"={{ $json.emailBody }}","options":{},"subject":"={{ $json.emailSubject }}"},"typeVersion":2.1},{"id":"c8ea5229-7719-4d26-9b55-c4e391834206","name":"Notify Property Management Team","type":"n8n-nodes-base.slack","position":[576,200],"webhookId":"d021dbed-2c4f-4180-88ae-7e18f1a8439a","parameters":{"text":"={{ $json.slackMessage }}","select":"channel","channelId":{"__rl":true,"mode":"id","value":"={{ $('Workflow Configuration').first().json.slackChannel }}"},"otherOptions":{}},"typeVersion":2.3},{"id":"3847f461-40c7-485a-993d-fd3fdab64134","name":"Vendor Confirmation Webhook","type":"n8n-nodes-base.webhook","position":[-672,536],"webhookId":"a2ce58e7-8672-4341-8832-b12330bdb7a8","parameters":{"path":"vendor-confirmation","options":{},"httpMethod":"POST","responseMode":"lastNode"},"typeVersion":2.1},{"id":"4d27d14f-d9cc-4996-b091-85332290e532","name":"Log Task Completion","type":"n8n-nodes-base.googleSheets","position":[-448,536],"parameters":{"columns":{"value":{"unit":"={{ $json.body.unit }}","taskStatus":"={{ $json.body.status }}","vendorNotes":"={{ $json.body.notes }}","completionDate":"={{ $now() }}"},"mappingMode":"defineBelow"},"options":{},"operation":"appendOrUpdate","sheetName":{"__rl":true,"mode":"name","value":"<__PLACEHOLDER_VALUE__Sheet name for logging task completions__>"},"documentId":{"__rl":true,"mode":"id","value":"={{ $('Workflow Configuration').first().json.googleSheetId }}"}},"credentials":{"googleSheetsOAuth2Api":{"id":"5b6oIAuqcO9HRb2A","name":"Google Sheets account 3"}},"typeVersion":4.7},{"id":"959461b9-533a-4cc9-946d-7772b699624b","name":"Check Task Delays","type":"n8n-nodes-base.if","position":[-224,536],"parameters":{"options":{},"conditions":{"options":{"leftValue":"","caseSensitive":true,"typeValidation":"strict"},"combinator":"and","conditions":[{"id":"id-1","operator":{"type":"string","operation":"equals"},"leftValue":"={{ $json.body.status }}","rightValue":"delayed"}]}},"typeVersion":2.2},{"id":"6237b2a8-1152-401e-a888-15281c641b62","name":"Suggest Follow-Up Actions","type":"@n8n/n8n-nodes-langchain.agent","position":[0,536],"parameters":{"text":"=Task delayed for Unit: {{ $json.body.unit }}, Reason: {{ $json.body.notes }}, Original completion date: {{ $json.completionDate }}","options":{"systemMessage":"You are a property management assistant specializing in task escalation and follow-up actions.\n\nYour task is to:\n1. Analyze the delayed task details and reason\n2. Suggest specific follow-up actions to resolve the delay\n3. Recommend alternative vendors if needed\n4. Provide a revised timeline estimate\n5. Identify any risks or impacts to the move-out schedule\n\nReturn actionable recommendations in a clear, prioritized format."},"promptType":"define"},"typeVersion":3},{"id":"f8768e82-67cc-46b3-8057-2d84d5a33244","name":"Anthropic Chat Model1","type":"@n8n/n8n-nodes-langchain.lmChatAnthropic","position":[72,760],"parameters":{"model":{"__rl":true,"mode":"list","value":"claude-sonnet-4-5-20250929","cachedResultName":"Claude Sonnet 4.5"},"options":{}},"typeVersion":1.3},{"id":"b8904b45-aab6-4db2-91bd-8fa273f28689","name":"Send Follow-Up Alert","type":"n8n-nodes-base.slack","position":[352,536],"webhookId":"fc6957de-1490-402a-bd5a-3eadea114e42","parameters":{"text":"={{ '⚠️ TASK DELAY ALERT - Unit ' + $('Log Task Completion').first().json.body.unit + '\\n\\n' + $json.output }}","select":"channel","channelId":{"__rl":true,"mode":"id","value":"={{ $('Workflow Configuration').first().json.slackChannel }}"},"otherOptions":{}},"typeVersion":2.3},{"id":"fa1601f7-2382-4363-b599-38255cd259a6","name":"Sticky Note","type":"n8n-nodes-base.stickyNote","position":[-1392,144],"parameters":{"width":464,"height":496,"content":"## Main\n\nThis workflow automatically triages tenant complaints using AI and routes high-priority issues to property managers immediately while logging all complaints for reporting. Medium and low-priority issues are acknowledged and scheduled for follow-up. This helps property management teams respond quickly, maintain tenant satisfaction, and prevent missed complaints.\n\n## Setup\n\n1. Connect your form or tenant portal to the Webhook trigger.\n2. Add credentials for Slack, Email, Google Sheets, and AI.\n3. Customize AI classification prompts to match your complaint categories.\n4. Test each routing path (High / Medium / Low) before going live.\n5. Adjust task management or follow-up logic according to team workflow.\n"},"typeVersion":1},{"id":"fc74cb13-17ac-4841-bfe8-686c693c806d","name":"Sticky Note1","type":"n8n-nodes-base.stickyNote","position":[-704,-128],"parameters":{"color":7,"width":640,"height":1088,"content":"## Trigger, Configuration, Log Data"},"typeVersion":1},{"id":"6005daba-1682-4ece-a8eb-a14cb6ddc839","name":"Sticky Note2","type":"n8n-nodes-base.stickyNote","position":[-32,-128],"parameters":{"color":7,"width":528,"height":1088,"content":"## AI Logic"},"typeVersion":1},{"id":"fdda7c57-c81b-4616-90d2-a7291ca698e2","name":"Sticky Note3","type":"n8n-nodes-base.stickyNote","position":[512,-128],"parameters":{"color":7,"width":272,"height":1088,"content":"## Notify"},"typeVersion":1}],"active":false,"pinData":{},"settings":{"executionOrder":"v1"},"versionId":"6d09a34d-6fc4-4801-915f-6fe8f611db96","connections":{"Schedule Trigger":{"main":[[{"node":"Workflow Configuration","type":"main","index":0}]]},"Check Task Delays":{"main":[[{"node":"Suggest Follow-Up Actions","type":"main","index":0}]]},"Log Task Completion":{"main":[[{"node":"Check Task Delays","type":"main","index":0}]]},"Anthropic Chat Model":{"ai_languageModel":[[{"node":"Generate Move-Out Instructions","type":"ai_languageModel","index":0}]]},"Anthropic Chat Model1":{"ai_languageModel":[[{"node":"Suggest Follow-Up Actions","type":"ai_languageModel","index":0}]]},"Workflow Configuration":{"main":[[{"node":"Get Tenant & Property Info","type":"main","index":0}]]},"Suggest Follow-Up Actions":{"main":[[{"node":"Send Follow-Up Alert","type":"main","index":0}]]},"Get Tenant & Property Info":{"main":[[{"node":"Generate Move-Out Instructions","type":"main","index":0}]]},"Structure Tasks for Vendors":{"main":[[{"node":"Send Email to Vendors","type":"main","index":0},{"node":"Notify Property Management Team","type":"main","index":0}]]},"Vendor Confirmation Webhook":{"main":[[{"node":"Log Task Completion","type":"main","index":0}]]},"Generate Move-Out Instructions":{"main":[[{"node":"Structure Tasks for Vendors","type":"main","index":0}]]}}}